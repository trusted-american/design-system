{{#if (and @route @query)}}
  <LinkTo
    @route={{@route}}
    @query={{@query}}
    class="btn
      {{if @size (concat 'btn-' @size)}}
      btn-{{if @isOutline 'outline-' ''}}{{if @color @color 'secondary'}}
      {{if @isFullWidth 'w-100'}}"
    role="button"
    data-test-button
    ...attributes
  >
    <Button::Internal
      @text={{@text}}
      @icon={{@icon}}
      @iconPrefix={{@iconPrefix}}
      @isIconTrailing={{@isIconTrailing}}
      @isIconOnly={{@isIconOnly}}
      @isLoading={{@isLoading}}
      @count={{@count}}
      role="presentation"
    />
  </LinkTo>
{{else if @route}}
  <LinkTo
    @route={{@route}}
    class="btn
      {{if @size (concat 'btn-' @size)}}
      btn-{{if @isOutline 'outline-' ''}}{{if @color @color 'secondary'}}
      {{if @isFullWidth 'w-100'}}"
    role="button"
    data-test-button
    ...attributes
  >
    <Button::Internal
      @text={{@text}}
      @icon={{@icon}}
      @iconPrefix={{@iconPrefix}}
      @isIconTrailing={{@isIconTrailing}}
      @isIconOnly={{@isIconOnly}}
      @isLoading={{@isLoading}}
      @count={{@count}}
      role="presentation"
    />
  </LinkTo>
{{else if @query}}
  <LinkTo
    @query={{@query}}
    class="btn
      {{if @size (concat 'btn-' @size)}}
      btn-{{if @isOutline 'outline-' ''}}{{if @color @color 'secondary'}}
      {{if @isFullWidth 'w-100'}}"
    role="button"
    data-test-button
    ...attributes
  >
    <Button::Internal
      @text={{@text}}
      @icon={{@icon}}
      @iconPrefix={{@iconPrefix}}
      @isIconTrailing={{@isIconTrailing}}
      @isIconOnly={{@isIconOnly}}
      @isLoading={{@isLoading}}
      @count={{@count}}
      role="presentation"
    />
  </LinkTo>
{{else if @href}}
  {{#if @isLocalHref}}
    <a
      href={{@href}}
      class="btn
        {{if @size (concat 'btn-' @size)}}
        btn-{{if @isOutline 'outline-' ''}}{{if @color @color 'secondary'}}
        {{if @isFullWidth 'w-100'}}"
      role="button"
      data-test-button
      ...attributes
    >
      <Button::Internal
        @text={{@text}}
        @icon={{@icon}}
        @iconPrefix={{@iconPrefix}}
        @isIconTrailing={{@isIconTrailing}}
        @isIconOnly={{@isIconOnly}}
        @isLoading={{@isLoading}}
        @count={{@count}}
        role="presentation"
      />
    </a>
  {{else}}
    <ExternalLink
      @href={{@href}}
      @text={{@text}}
      @icon={{@icon}}
      @iconPrefix={{@iconPrefix}}
      @isIconTrailing={{@isIconTrailing}}
      @isIconOnly={{@isIconOnly}}
      class="btn
        {{if @size (concat 'btn-' @size)}}
        btn-{{if @isOutline 'outline-' ''}}{{if @color @color 'secondary'}}
        {{if @isFullWidth 'w-100'}}"
      role="button"
      data-test-button
      ...attributes
    />
  {{/if}}
{{else if @isLabel}}
  <label
    class="btn
      {{if @size (concat 'btn-' @size)}}
      btn-{{if @isOutline 'outline-' ''}}{{if @color @color 'secondary'}}
      {{if @isFullWidth 'w-100'}}"
    data-test-button
    ...attributes
  >
    <Button::Internal
      @text={{@text}}
      @icon={{@icon}}
      @iconPrefix={{@iconPrefix}}
      @isIconTrailing={{@isIconTrailing}}
      @isIconOnly={{@isIconOnly}}
      @isLoading={{@isLoading}}
      @count={{@count}}
      role="presentation"
    />
    {{yield}}
  </label>
{{else}}
  <button
    type={{if @isSubmit "submit" "button"}}
    class="btn
      {{if @size (concat 'btn-' @size)}}
      btn-{{if @isOutline 'outline-' ''}}{{if @color @color 'secondary'}}
      {{if @isFullWidth 'w-100'}}"
    disabled={{if @isLoading true}}
    aria-label={{if @isIconOnly @text}}
    data-test-button
    ...attributes
  >
    <Button::Internal
      @text={{@text}}
      @icon={{@icon}}
      @iconPrefix={{@iconPrefix}}
      @isIconTrailing={{@isIconTrailing}}
      @isIconOnly={{@isIconOnly}}
      @isLoading={{@isLoading}}
      @count={{@count}}
      role="presentation"
    />
  </button>
{{/if}}